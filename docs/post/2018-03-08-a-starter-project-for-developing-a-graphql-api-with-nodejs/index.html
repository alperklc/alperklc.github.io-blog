<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en-us">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>A starter project for developing a graphql api with nodejs | Alper Kilci&#39;s blog</title>

<meta property='og:title' content='A starter project for developing a graphql api with nodejs - Alper Kilci&#39;s blog'>
<meta property='og:description' content='A starter API project with nodejs &#43; express &#43; mongodb &#43; graphql (apollo) stack, secured by jsonwebtoken. This repository will be a starting point for my upcoming nodejs based graphql projects. Can be a starting point for anyone who is interested in learning graphql too!
Github: https://github.com/alperklc/express-mongo-graphql-starter
Using a mongo database on default port and creating two collections: User and Record. Collections have a 1-n relation.
Api is running on port number 3333, serving two endpoints:'>
<meta property='og:url' content='https://www.alperkilci.com/blog/post/2018-03-08-a-starter-project-for-developing-a-graphql-api-with-nodejs/'>
<meta property='og:site_name' content='Alper Kilci&#39;s blog'>
<meta property='og:type' content='article'><meta property='og:image' content='https://www.gravatar.com/avatar/43619ecd3ebb1e690a88b6e749d4c0f3?s=256'><meta property='article:section' content='Post'><meta property='article:tag' content='nodejs'><meta property='article:tag' content='express'><meta property='article:tag' content='graphql'><meta property='article:tag' content='apollo'><meta property='article:tag' content='mongodb'><meta property='article:tag' content='mongoose'><meta property='article:tag' content='jsonwebtoken'><meta property='article:published_time' content='2018-03-08T14:23:00Z'><meta property='article:modified_time' content='2018-03-08T14:23:00Z'><meta name='twitter:card' content='summary'><meta name='twitter:site' content='@alperql'><meta name='twitter:creator' content='@alperql'>


<link rel="stylesheet" href="/blog/css/style.css"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<link rel="canonical" href="https://www.alperkilci.com/blog/post/2018-03-08-a-starter-project-for-developing-a-graphql-api-with-nodejs/">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<section class="section">
  <div class="container">
    <nav id="nav-main" class="nav">
      <div id="nav-name" class="nav-left">
        <a id="nav-anchor" class="nav-item" href="https://www.alperkilci.com/blog">
          <h1 id="nav-heading" class="title is-4">Alper Kilci&#39;s blog</h1>
        </a>
      </div>
      <div class="nav-right">
        <nav id="nav-items" class="nav-item level is-mobile"><a class="level-item" aria-label="github" href='https://github.com/alperklc'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="twitter" href='https://twitter.com/alperql'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="email" href='mailto:alperkilci@gmail.com'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
    <polyline points="22,6 12,13 2,6"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="linkedin" href='https://linkedin.com/in/alper-k%c4%b1lc%c4%b1-39a55472'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path stroke-width="1.8" d="m5.839218,4.101561c0,1.211972 -0.974141,2.194011 -2.176459,2.194011s-2.176459,-0.982039 -2.176459,-2.194011c0,-1.211094 0.974141,-2.194011 2.176459,-2.194011s2.176459,0.982917 2.176459,2.194011zm0.017552,3.94922l-4.388022,0l0,14.04167l4.388022,0l0,-14.04167zm7.005038,0l-4.359939,0l0,14.04167l4.360816,0l0,-7.370999c0,-4.098413 5.291077,-4.433657 5.291077,0l0,7.370999l4.377491,0l0,-8.89101c0,-6.915523 -7.829986,-6.66365 -9.669445,-3.259423l0,-1.891237z"/>
    
  </svg></i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
  <script src="/js/navicon-shift.js"></script>
</section>
<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/blog/tags/nodejs/">#nodejs</a>



  
  | <a class="subtitle is-6" href="/blog/tags/express/">#express</a>
  
  | <a class="subtitle is-6" href="/blog/tags/graphql/">#graphql</a>
  
  | <a class="subtitle is-6" href="/blog/tags/apollo/">#apollo</a>
  
  | <a class="subtitle is-6" href="/blog/tags/mongodb/">#mongodb</a>
  
  | <a class="subtitle is-6" href="/blog/tags/mongoose/">#mongoose</a>
  
  | <a class="subtitle is-6" href="/blog/tags/jsonwebtoken/">#jsonwebtoken</a>
  


      
    </div>
    <h2 class="subtitle is-6">March 8, 2018</h2>
    <h1 class="title">A starter project for developing a graphql api with nodejs</h1>
    
    <div class="content">
      <p>A starter API project with <a href="https://nodejs.org/en/">nodejs</a> + <a href="https://expressjs.com">express</a> + <a href="https://www.mongodb.com">mongodb</a> + <a href="https://www.apollographql.com">graphql (apollo)</a> stack, secured by <a href="https://www.npmjs.com/package/jsonwebtoken">jsonwebtoken</a>. This repository will be a starting point for my upcoming nodejs based graphql projects. Can be a starting point for anyone who is interested in learning graphql too!</p>
<p>Github: <a href="https://github.com/alperklc/express-mongo-graphql-starter">https://github.com/alperklc/express-mongo-graphql-starter</a></p>
<p>Using a mongo database on default port and creating two collections: <code>User</code> and <code>Record</code>. Collections have a 1-n relation.</p>
<p>Api is running on port number <code>3333</code>, serving two endpoints:</p>
<ul>
<li><code>/auth</code> signup and authentication, open for everyone</li>
<li><code>/graphql</code> basic crud operations and search of record entity, requires Authorization token on header</li>
</ul>
<h3 id="usage">Usage</h3>
<p>After all required packages are installed by <code>npm install</code> command, <code>node index.js</code> or <code>npm run start</code> will make the API running.</p>
<p>Once it runs on local machine or cloud environment, any API testing tool like Postman would work. API responds as expected, if the request is a HTTP <code>POST</code>, with Content-Type specified as <code>application/json</code> on the header.</p>
<p>Sample authentication queries to paste to the request body:</p>
<ul>
<li>Signup:</li>
</ul>
<pre><code>{ 
  &quot;query&quot;: &quot;mutation SignupUserMutation($email: String, $password: String, $username: String) {
    signupUser(email: $email, password: $password, username: $username) { user { id username } token }
  }&quot;, 
  &quot;variables&quot;: {&quot;password&quot;: &quot;1234&quot;, &quot;email&quot;: &quot;alper@mail.com&quot;, &quot;username&quot;: &quot;alperklc&quot;}
} 
</code></pre><ul>
<li>Authentication of a user:</li>
</ul>
<pre><code>{
  &quot;query&quot;: &quot;mutation SigninUserMutation($email: String!, $password: String!) { authenticateUser(email: $email, password: $password) { user { id username updatedAt } token }
  }&quot;,
  &quot;variables&quot;: {&quot;password&quot;: &quot;1234&quot;, &quot;email&quot;: &quot;alper@mail.com&quot;}
}
</code></pre><p>CRUD and search queries for Record entity:
We will get a token after login via <code>authenticateUser</code> mutation on auth endpoint. Following examples are requiring this token specified on the header (Authorization: <code>token</code>). CRUD operations are restricted to the given user.</p>
<ul>
<li>Create record:</li>
</ul>
<pre><code>{
  &quot;query&quot;: &quot;mutation createRecord($description: String) {
    createRecord(description: $description) { id }
  }&quot;,
  &quot;variables&quot;: {
    &quot;description&quot;: &quot;test&quot;
  }
}
</code></pre><ul>
<li>Update record:</li>
</ul>
<pre><code>{
  &quot;query&quot;: &quot;mutation updateRecord($description: String $id: ID!) { updateRecord(description: $description id: $id) }&quot;,
  &quot;variables&quot;: {
    &quot;id&quot;: &quot;5aa03efc9769c32ba2f4f5b5&quot;,
    &quot;description&quot;: &quot;test edit&quot;
  }
}
</code></pre><ul>
<li>Delete record:</li>
</ul>
<pre><code>{
  &quot;query&quot;: &quot;mutation deleteRecord($id: ID!){ deleteRecord(id: $id) }&quot;,
   &quot;variables&quot;: {
     &quot;id&quot;: &quot;5aa05b6a8fef4c40d74c88fb&quot;
   }
}
</code></pre><ul>
<li>Get a record by ID:</li>
</ul>
<pre><code>{
  &quot;query&quot;: &quot;query getRecordById($id: ID){ initialRecord: getRecordById(id: $id) { id description } }&quot;,
  &quot;variables&quot;: {&quot;id&quot;: &quot;5aa03efc9769c32ba2f4f5b5&quot;}
}
</code></pre><ul>
<li>Search record:</li>
</ul>
<pre><code>{
  &quot;query&quot;: &quot;query searchRecord($keyword: String! $dateGreaterThanEqual: String! $dateLessThanEqual: String!) { searchRecord(keyword: $keyword, dateGreaterThanEqual: $dateGreaterThanEqual, dateLessThanEqual: $dateLessThanEqual) { id description } }&quot;,
  &quot;variables&quot;: {
    &quot;keyword&quot;: &quot;te&quot;,
    &quot;dateGreaterThanEqual&quot;: &quot;2017-12-08T00:00:00.000Z&quot;,
    &quot;dateLessThanEqual&quot;: &quot;2019-08-08&quot;
  }
}
</code></pre><h5 id="roadmap--future-plans">Roadmap / Future plans</h5>
<ul>
<li>Will add unit and integration tests to this starter project.</li>
<li>A UI would be helpful for frontend developers want to start developing with graphql</li>
<li>Use it on my future projects.</li>
</ul>
<h5 id="how-to-contribute">How to contribute?</h5>
<ul>
<li>Fork, develop further and send a pull request :)</li>
<li>Issues are welcomed too.</li>
</ul>

      
    </div>
    
  </div>
</section>



<section class="section">
  <div class="container has-text-centered">
    <p></p>
    
  </div>
</section>



</body>
</html>

